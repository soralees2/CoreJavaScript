<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<h1>1) call 메서드</h1>
	<p><b>Function.prototype.call(thisArg[, arg1[, arg2,[]]])</b></p>
	<p>메서드의 호출 주체인 함수를 즉시 실행하도록 하는 명령.</p>
	<script>
		console.log('=== exam1) ===');
		// exam3-14
		var func = function(a,b,c){
			console.log(this,a,b,c);
		};
		func(1,2,3); // 전역객체 참조
		func.call({x:1},4,5,6); // 임의의 객체 지정

		// exam3-15
		var obj = {
			a:1,
			method: function(x, y){
				console.log(this.a, x, y);
			}
		};
		obj.method(2,3); // 객체참조 -> 결과값 : 1 2 3 
		obj.method.call({a:4}, 5, 6); // 임의객체 참초 -> 결과값 : 4 5 6
	</script>
	<br>
	<h1>2) apply 메서드</h1>
	<p><b>Function.prototype.apply(thisArg[, argsArray])</b></p>
	<p>call메서드와 기능적으로 완전히 동일.<br>call 메서드는 첫번째 인자를 제외한 나머지 모든인자를 호출할 함수의
	매개변수로 지정하는 반면, <br>apply메서드는 두번째 인자를 배열로 받아 그 배열의 요소들을 호출할 함수의 매개변수로 지정한다.</p>
	<script>
		console.log('=== exam2) ===');
		// exam3-16
		var func = function(a,b,c){
			console.log(this, a, b, c);
		}
		func.apply({x:1}, [4,5,6]); // {x: 1} 4 5 6

		var obj = {
			a:1,
			method: function(x, y){
				console.log(this.a, x, y);
			}
		};
		obj.method.apply({a:4}, [5,6]); // 4 5 6
	</script>
	<br>
	<h1>3) call/apply 메서드 활용</h1>
	<p><b>1. 유사배열객체(array-like object)에 배열 메서드 적용</b></p>
	<script>
		// exam3-17
		console.log('=== exam3-1) ===')
		var obj = {
			0: 'a',
			1: 'b',
			2: 'c',
			length: 3	
		};
		Array.prototype.push.call(obj, 'd');
		console.log(obj);
		// {0: 'a', 1: 'b', 2: 'c', 3: 'd', length: 4}

		var arr = Array.prototype.slice.call(obj);
		console.log(arr);
		// (4) ['a', 'b', 'c', 'd']
		/*
			slice 메서드는 원래 시작인덱스값과 마지막인덱스값을 받아
			시작값부터 마지막값의 앞부분까지의 배열요소를 추출하는 메서드 인데,
			매개변수를 아무것도 넘기지 않을 경우에는 그냥 원본배열의 얕은 복사본을 반환한다.
			slice가 배열메서드이기 때문에 복사본은 배열로 반환.
		*/
	</script>
	<p><b>2. arguments.NodeList에 배열 메서드를 적용</b></p>
	<p id="exam3-18"></p>
	<script>
		// exam3-18
		function a(){
			var argv = Array.prototype.slice.call(arguments);
			argv.forEach(function(arg){
				console.log(arg);
			});
		}
		a(1,2,3);

		document.getElementById('exam3-18').innerHTML = '<div>a</div><div>b</div><div>c</div>';
		var nodeList = document.querySelectorAll('div');
		var nodeArr = Array.prototype.slice.call(nodeList);
		nodeArr.forEach(function(node){
			console.log(node);
		})
	</script>
</body>
</html>